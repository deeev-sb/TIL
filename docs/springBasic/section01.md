# 1. 객체 지향 설계와 스프링

## 1.1. 스프링 탄생

### 1.1.1. 스프링 이전(2000년 초반)

스프링이 탄생하기 전 **가장 많이 사용하던 기술**은 `EJB(Enterprise Java Beans)`입니다. EJB는 다음과 같은 장단점을 가졌습니다.

- 장점
  - 트랜잭션 처리 지원
  - 분산 처리 지원
  - EJB 엔티티 빈 기술 지원
- 단점
  - 비싼 가격
  - 느린 속도
  - 복잡하고 어려움
  - EJB에 의존적으로 개발해야 함

단점이 명확한 EJB의 지옥에서 벗어나기 위해 개발자들은 오픈 소스를 만들기 시작했습니다. 그렇게 탄생한 것이 **스프링**과 **하이버네이트**(EJB 엔티티빈 기술 대체)입니다.
그리고 하이버네이트에서 발전되어 나온 것이 JPA(Java Persistence API)입니다.

### 1.1.2. 스프링 역사

2002년 로드 존슨이라는 사람이 `J2EE Design and Development`라는 책을 통해 EJB의 문제점을 지적합니다.
책을 출간한 직후 유겐 휠러, 얀 카로프는 로드 존슨에게 오픈 소스 프로젝트를 제안했습니다.
그렇게 탄생한 것이 스프링이며, 스프링의 이름은 전통적인 J2EE(EJB)라는 겨울을 넘어 새로운 시작이라는 의미로 지은 것입니다.

### 1.1.3. 릴리즈

스프링의 릴리즈는 다음과 같습니다.

- 2003년 스프링 프레임워크 1.0 출시 - XML
- 2006년 스프링 프레임워크 2.0 출시 - XML 편의 기능 지원
- 2009년 스프링 프레임워크 3.0 출시 - 자바 코드로 설정
- 2013년 스프렝 프레임워크 4.0 출시 - 자바 8
- 2014년 스프링 부트 1.0 출시 (스프링의 많은 설정 문제를 해결, 내장 톰캣 지원)
- 2017년 스프링 프레임워크 5.0, 스프링 부트 2.0 출시 - 리엑티브 프로그래밍 지원
- 2020년 9월 스프링 프레임워크 5.2.X, 스프링 부트 2.3.X 출시
- 2022년 11월 스프링 프레임워크 6.0 스프링 부트 3.0 출시

## 1.2. 스프링이란

**스프링 생태계**는 다음과 같이 다양한 프로젝트가 포함되며, 그 중 스프링 프레임워크가 핵심입니다.

- 스프링 프레임워크
- 스프링 부트
- 스프링 데이터 - 데이터베이스 CRUD를 편하게 사용할 수 있는 기능 제공
- 스프링 시큐리티 - 보안 관련
- 스프링 배치 - 배치 처리 특화
- 스프링 세션 - 세션 관련
- 스프링 Rest Docs - 문서화를 편리하게 할 수 있는 기능 제공
- 스프링 클라우드 - 클라우드 기술 특화
- ...

### 1.2.1. 스프링 프레임워크

위에서도 언급했듯 **스프링 프레임워크**는 스프링 생태계의 핵심 프로젝트이며, 다음과 같은 특징을 가집니다.

- 핵심 기술 : 스프링 DI 컨테이너, AOP, 이벤트, …
- 웹 기술 : 스프링 MVC, 스프링 WebFlux
- 데이터 접근 기술 : 트랜잭션, JDBC, ORM 지원, XML 지원
- 기술 통합 : 캐시, 이메일, 원격접근, 스케줄링
- 테스트 : 스프링 기반 테스트 지원
- 언어 : 코틀린, 그루비

### 1.2.2. 스프링 부트

스프링 부트는 **스프링을 편리하게 사용할 수 있도록 지원**하며, 다음과 같은 특징을 가집니다.

- **단독으로 실행**할 수 있는 스프링 애플리케이션을 쉽게 생성
- Tomcat 같은 **웹 서버를 내장**해서 별도의 웹 서버를 설치하지 않아도 됨
- 손쉬운 빌드 구성을 위한 **starter 종속성** 제공
- 스프링과 3rd part (외부) 라이브러리 자동 구성 ⇒ **버전 관리를 해줌**
- 메트릭, 상태 확인, 외부 구성 같은 **프로덕션 준비 기능** 제공
- 간결한 설정

이러한 특징으로 인해 최근에는 기본으로 사용합니다.

### 1.2.3. 스프링이라는 단어는?!

스프링이라는 단어는 **문맥에 따라 다르게 사용**되며, 주로 다음과 같은 의미로 사용합니다.
- 스프링 DI 컨테이너 기술
- 스프링 프레임워크
- 스프링 부트, 스프링 프레임워크 등을 모두 포함한 스프링 생태계

### 1.2.4. 스프링 핵심

스프링은 자바 언어 기반의 프레임워크이며, 객체 지향 언어가 가진 강력한 특징을 살려냅니다.
그렇기에 **좋은 객체 지향 애플리케이션을 개발할 수 있도록 도와**줍니다.

## 1.3. 좋은 객체 지향 프로그래밍이란

**객체 지향 프로그래밍**이란 컴퓨터 프로그래밍을 목록으로 보는 시각에서 벗어나 여러 개의 독립된 단위, 즉 **객체들의 모임**으로 파악하고자 하는 것입니다.
그리고 각각의 **객체는 메시지를 주고 받고**, 데이터를 처리할 수 있습니다. (협력)
또한, 컴포넌트를 쉽고 유연하게 변경할 수 있어 프로그램을 **유연하고 변경이 용이**하게 만들 수 있습니다.
그래서 대규모 소프트웨어 개발에 많이 사용됩니다.

이러한 객체 지향 프로그래밍은 **추상화, 캡슐화, 상속, 다형성**이라는 네 가지 특징을 가집니다. 
이 중 다형성에 대해 알아보겠습니다.

### 1.3.1. 다형성 (Polymorphism)

다형성을 이해하기 위해, 역할과 구현으로 세상을 구분하는 관점에 대해 살펴보겠습니다.

먼저 자동차라는 것을 구현한다고 할 때, K3로 만들 수도 있고, 아반떼나 테슬라로 만들수도 있습니다.
그러나 운전자는 자동차를 운전하는 것이기에 K3든, 아반떼이든, 테라슨 상관이 없습니다.
즉, 구현이 변경되어도 역할은 동일합니다.

그 다음 공연 무대를 예로 들어보겠습니다.
로미오와 줄리엣이라는 공연 무대를 한다고 할 때, 로미오나 줄리엣을 어떤 배우가 연기하든 상관이 없습니다.
역할에 대한 배우는 대체가 가능합니다. 다시 말해, 로미오라는 배역이 구현이고 이를 맡은 장동건이나 원빈이라는 배우가 역할이 되는 것입니다.

이렇게 역할과 구현을 구분하면 다음과 같은 장점을 가집니다.

- 역할과 구현을 구분하면 단순해지고, 유연해지며 변경이 편리해짐
- 클라이언트는 대상의 역할(인터페이스)만 알면 됨
- 클라이언트는 구현 대상의 내부 구조를 몰라도 됨
- 클라이언트는 구현 대상의 내부 구조가 변경되어도 영향을 받지 않음
- 클라이언트는 구현 대상 자체를 변경해도 영향을 받지 않음 ⇒ 자동차를 바꿔도 운전을 할 수 있음

이를 **자바 언어 관점**에서 살펴보겠습니다.
자바에서 **역할은 인터페이스**이며, **구현은 인터페이스를 구현한 클래스나 구현 객체**입니다.
객체 설계 시 역할(인터페이스)를 먼저 부여하고, 그 역할에 수행하는 구현 객체를 만드는 것이 좋습니다.
그리고 수많은 객체 클라이언트(요청)와 객체 서버(응답)는 서로 협력 관계를 가집니다.

### 1.3.2. 자바 언어의 다형성

인터페이스를 구현하기 위해 오버라이딩된 메서드를 실행하는 것에 대해 생각해봅시다.
다음과 같이 인터페이스를 다형성으로 구현한 객체는 실행 시점에 유연하게 변경할 수 있습니다.



코드로 살펴보면 다음과 같으며, 둘 중 어떤 것이든 사용할 수 있습니다.

```java
public class MemberService {
	// private MemberRepository memberRepository = new MemoryMemberRepository();
	private MemberRepository memberRepository = new JdbcMemberRepository();
}
```

이러한 점은 인터페이스 뿐만 아니라, 상속 관계에서도 다형성, 오버라이딩을 적용할 수 있습니다.


> 본 게시글은 [스프링 핵심 원리 - 기본편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8) 강의를 참고하여 작성되었습니다.
>
> 상세한 내용이 궁금하시다면 강의 수강을 추천 드립니다.

추가로 참고한 내용
- <https://github.com/spring-projects/spring-framework/tags>