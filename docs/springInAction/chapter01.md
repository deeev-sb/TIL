# 01. 스프링 시작하기

## 1.1 스프링이란?

스프링은 **스프링 애플리케이션 컨텍스트**라는 컨테이너를 제공하는데,
이것은 애플리케이션 컴포넌트들을 생성하고 관리합니다.
**애플리케이션 컴포넌트 또는 빈**들은 스프링 애플리케이션 컨텍스트 내부에서 서로 연결되어 완전한 애플리케이션을 만듭니다.
빈의 상호 연결은 **의존성 주입**이라고 알려진 패턴을 기반으로 수행됩니다.

⇒ **애플리케이션 컴포넌트에서 의존하는 다른 빈의 생성과 관리를** 자체적으로 하는 대신 **별도의 개체**가 해주며,
이 개체에서는 **모든 컴포넌트를 생성, 관리하고 해당 컴포넌트를 필요로 하는 빈에 주입**합니다.
일반적으로 이것은 **생성자 인자** 또는 **속성의 접근자 메서드**를 통해 처리됩니다.

핵심 컨테이너 외에도 스프링 관련 라이브러리에서는 웹 프레임워크, 다양한 데이터 저장 옵션, 보안 프레임워크,
타 시스템과의 통합, 런타임 모니터링, 마이크로서비스 지원, 리액티브 프로그래밍 모델,
그리고 최신 애플리케이션 개발에 필요한 많은 다른 기능을 제공합니다.

### 스프링 설정 정보 등록 방법

스프링 설정 정보는 수동으로 등록할 수도 있고, 자동으로 등록되게 설정할 수도 있습니다.

- XML 파일 사용 (수동)

    ```xml
    <bean id="inventoryService" class="com.example.InventoryService" />
    <bean id="productService" class="com.example.ProductService">
        <constructor-arg ref="inventoryService"/>
    </bean>
    ```

- 자바 기반 구성 클래스 사용 (수동)

    ```java
    @Configuration
    public class ServiceConfiguration {
    	@Bean
    	public InventoryService inventoryService() {
    		return new InventoryService();
    	}
    	@Bean
    	public ProductService productService() {
    		return new ProductService(inventoryService());
    	}
    }
    ```

    - `@Configuration` 애노테이션 : 각 빈을 스프링 애플리케이션 컨텍스트에 제공하는 구성 클래스라는 것을 스프링에게 알려줍니다.
    - `@Bean` 애노테이션 : 각 메서드에서 반환되는 객체가 애플리케이션 컨텍스트의 빈으로 추가되어야 한다는 것을 나타냅니다.
 
- 자동-구성
    - 컴포넌트 검색을 사용하여 스프링은 자동으로 애플리케이션의 classpath에 지정된 컴포넌트를 찾은 후 스프링 애플리케이션 컨텍스트의 빈으로 생성할 수 있습니다.
    - 자동 연결을 사용하여 의존 관계에 있는 컴포넌트를 자동으로 다른 빈에 주입합니다.
    - 스프링 부트가 소개되면서 자동-구성 기능이 더욱 향상되었습니다.

## 1.2 스프링 애플리케이션 초기 설정

**스프링 Initializr**라는 REST API를 사용하는 브라우저 기반의 웹 애플리케이션을 사용하면, 스프링 프로젝트의 구조 생성을 좀 더 쉽게 할 수 있습니다.

스프링 Initializr를 사용하는 방법은 다음과 같이 여러 가지가 있습니다.

- https://start.spring.io 의 웹 애플리케이션에서 생성
- 명령행에서 curl 명령을 사용해 생성
- 명령행에서 스프링 부트 CLI를 사용해 생성
- Spring Tool Suite IDE를 사용해 새로운 프로젝트로 생성
- IntelliJ IDEA IDE를 사용해 새로운 프로젝트로 생성
- NetBase IDE를 사용해 새로운 프로젝트로 생성

## 1.4 스프링 살펴보기

### 1.4.1 핵심 스프링 프레임워크

- 핵심 컨테이너와 의존성 주입 프레임워크
- 템플릿 기반의 JDBC 지원을 포함해서 기본적인 데이터 퍼시스턴트 지원
- 스프링 MVC - 스프링 웹 프레임워크
- 스프링 WebFlux - 리액티브 프로그래밍

### 1.4.2 스프링 부트

- 스타터 의존성
    - 모든 라이브러리의 의존성을 선언하지 않아도 되므로 빌드 파일이 훨씬 더 작아지고 관리하기 쉬워집니다.
    - 기능 관점으로 의존성을 생각할 수 있습니다.
    - 라이브러리들의 버전을 걱정하지 않아도 됩니다.
- 자동-구성
- 액추에이터 (Actuator)
    - 애플리케이션의 내부 작동을 런타임 시 살펴볼 수 있는 기능을 제공합니다.
    - 메트릭, 스레드 덤프 정보, 애플리케이션 상태, 애플리케이션에서 사용할 수 있는 환경 속성이 포함됩니다.
- 환경 속성의 명세
- 테스트 지원

### 1.4.3 스프링 데이터

간단한 자바 인터페이스로 애플리케이션의 데이터 리퍼지터리를 정의할 수 있습니다.
서로 다른 종류의 데이터베이스와 함께 사용될 수 있습니다.

### 1.4.4 스프링 시큐리티

인증, 허가, API 보안을 포함하는 폭넓은 범위의 애플리케이션 보안 요구를 다룹니다.

### 1.4.5 스프링 통합과 배치

- 스프링 통합
    - 데이터가 사용 가능한 즉시 처리되는 실시간 통합을 처리합니다.
- 스프링 배치
    - 다량의 데이터가 처리되는 시점을 트리거가 알려줄 때 데이터가 수집 처리되는 배치 통합을 처리합니다.

### 1.4.6 스프링 클라우드

스프링을 사용해서 클라우드 애플리케이션을 개발하기 위한 프로젝트들의 모임입니다.
주로 마이크로서비스에서 사용합니다.

## 요약

- 웹 애플리케이션 생성, 데이터베이스 사용, 애플리케이션 보안, 마이크로서비스 등에서 개발자의 노력을 덜어주는 것이 스프링의 목표입니다.
- 스프링 부트는 손쉬운 의존성 관리, 자동-구성, 런타임 시 애플리케이션 내부 작동 파악을 스프링에서 할 수 있게 합니다.
- 스프링 애플리케이션은 스프링 Initializr를 사용해서 초기 설정을 할 수 있습니다.
- 빈이라는 컴포넌트는 스프링 애플리케이션 컨텍스트에서 자바나 XML로 선언할 수 있으며, 컴포넌트 탐색으로 찾거나 스프링 부트 자동-구성에서 자동으로 구성할 수도 있습니다.

> 본 게시글은 [스프링 인 액션](https://product.kyobobook.co.kr/detail/S000001942493) 도서를 참고하여 작성되었습니다.
> 상세한 내용이 궁금하시다면 책을 읽어보실 것을 추천해 드립니다.